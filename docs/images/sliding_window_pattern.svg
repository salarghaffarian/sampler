<?xml version="1.0" encoding="UTF-8"?>
<svg width="400" height="320" viewBox="0 0 500 400" xmlns="http://www.w3.org/2000/svg">
    <rect x="50" y="20" width="400" height="300" fill="#e0e8e4" stroke="#333" stroke-width="2"/>
    
    <g stroke="#aaa" stroke-width="1" stroke-dasharray="2,2">
        <line x1="150" y1="20" x2="150" y2="320"/>
        <line x1="250" y1="20" x2="250" y2="320"/>
        <line x1="350" y1="20" x2="350" y2="320"/>
        <line x1="50" y1="120" x2="450" y2="120"/>
        <line x1="50" y1="220" x2="450" y2="220"/>
    </g>

    <g fill="#868e96" stroke="#495057">
        <rect x="80" y="40" width="30" height="20"/>
        <rect x="180" y="90" width="25" height="25"/>
        <rect x="280" y="150" width="35" height="30"/>
        <rect x="380" y="200" width="40" height="25"/>
        <rect x="120" y="250" width="30" height="30"/>
        <rect x="320" y="270" width="25" height="25"/>
    </g>

    <!-- First row windows -->
    <g>
        <rect x="70" y="40" width="100" height="100" fill="none" stroke="#2196F3" stroke-width="2" opacity="0.7"/>
        <text x="80" y="60" fill="#2196F3" font-size="14" font-family="Helvetica">W1</text>
        
        <rect x="130" y="40" width="100" height="100" fill="none" stroke="#2196F3" stroke-width="2" opacity="0.7"/>
        <text x="140" y="60" fill="#2196F3" font-size="14" font-family="Helvetica">W2</text>
        
        <rect x="130" y="40" width="40" height="100" fill="#2196F3" opacity="0.1"/>
        
        <!-- Horizontal continuation dots -->
        <g fill="#2196F3">
            <circle cx="250" cy="90" r="4"/>
            <circle cx="270" cy="90" r="4"/>
            <circle cx="290" cy="90" r="4"/>
        </g>
    </g>

    <!-- Second row windows -->
    <g>
        <rect x="70" y="100" width="100" height="100" fill="none" stroke="#4CAF50" stroke-width="2" opacity="0.7"/>
        <text x="80" y="120" fill="#4CAF50" font-size="14" font-family="Helvetica">W3</text>
        
        <rect x="130" y="100" width="100" height="100" fill="none" stroke="#4CAF50" stroke-width="2" opacity="0.7"/>
        <text x="140" y="120" fill="#4CAF50" font-size="14" font-family="Helvetica">W4</text>
        
        <rect x="130" y="100" width="40" height="100" fill="#4CAF50" opacity="0.1"/>
        
        <!-- Horizontal continuation dots -->
        <g fill="#4CAF50">
            <circle cx="250" cy="150" r="4"/>
            <circle cx="270" cy="150" r="4"/>
            <circle cx="290" cy="150" r="4"/>
        </g>
    </g>

    <!-- Vertical continuation dots -->
    <g fill="#9C27B0">
        <circle cx="115" cy="220" r="4"/>
        <circle cx="115" cy="240" r="4"/>
        <circle cx="115" cy="260" r="4"/>
    </g>

    <!-- Vertical overlap shadings -->
    <g>
        <rect x="70" y="100" width="100" height="40" fill="#9C27B0" opacity="0.1"/>
        <rect x="130" y="100" width="100" height="40" fill="#9C27B0" opacity="0.1"/>
    </g>

    <!-- Measurements -->
    <g>
        <!-- Horizontal stride -->
        <line x1="70" y1="30" x2="130" y2="30" stroke="#666" stroke-width="1" marker-start="url(#arrow-start)" marker-end="url(#arrow-end)"/>
        <rect x="85" y="15" width="40" height="15" fill="white" fill-opacity="0.6" rx="2"/>
        <text x="90" y="27" fill="#666" font-size="12" font-family="Helvetica">60px</text>

        <!-- Vertical stride -->
        <line x1="45" y1="40" x2="45" y2="100" stroke="#666" stroke-width="1" marker-start="url(#arrow-start)" marker-end="url(#arrow-end)"/>
        <rect x="5" y="65" width="40" height="15" fill="white" fill-opacity="0.6" rx="2"/>
        <text x="10" y="77" fill="#666" font-size="12" font-family="Helvetica">60px</text>
    </g>

    <!-- Direction arrows with labels -->
    <g>
        <path d="M 90,30 L 350,30" stroke="#FF5722" stroke-width="3" fill="none" marker-end="url(#arrowhead-orange)"/>
        <rect x="180" y="15" width="75" height="20" fill="white" fill-opacity="0.6" rx="4"/>
        <text x="185" y="30" fill="#FF5722" font-size="16" font-family="Helvetica" font-weight="400">1. Right</text>
        
        <path d="M 70,80 L 70,130" stroke="#4CAF50" stroke-width="3" fill="none" marker-end="url(#arrowhead-green)"/>
        <rect x="15" y="95" width="80" height="20" fill="white" fill-opacity="0.6" rx="4"/>
        <text x="20" y="110" fill="#4CAF50" font-size="16" font-family="Helvetica" font-weight="400">2. Down</text>
        
        <path d="M 90,130 L 350,130" stroke="#9C27B0" stroke-width="3" fill="none" marker-end="url(#arrowhead-purple)"/>
        <rect x="180" y="115" width="85" height="20" fill="white" fill-opacity="0.6" rx="4"/>
        <text x="185" y="130" fill="#9C27B0" font-size="16" font-family="Helvetica" font-weight="400">3. Repeat</text>
    </g>

    <defs>
        <marker id="arrowhead-orange" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#FF5722"/>
        </marker>
        <marker id="arrowhead-green" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#4CAF50"/>
        </marker>
        <marker id="arrowhead-purple" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#9C27B0"/>
        </marker>
        <marker id="arrow-start" markerWidth="10" markerHeight="7" 
            refX="0" refY="3.5" orient="auto">
            <polygon points="10 0, 0 3.5, 10 7" fill="#666"/>
        </marker>
        <marker id="arrow-end" markerWidth="10" markerHeight="7" 
            refX="10" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
        </marker>
    </defs>
    
    <!-- Legend -->
    <g transform="translate(50, 370)">
        <rect width="15" height="15" fill="none" stroke="#2196F3" stroke-width="2"/>
        <text x="25" y="12" fill="#666" font-size="12">Window: 100x100 pixels</text>
        
        <rect x="200" y="0" width="15" height="15" fill="#2196F3" opacity="0.1"/>
        <text x="220" y="12" fill="#666" font-size="12">Stride = 60 pixels</text>
    </g>

    <text x="50" y="350" fill="#666" font-size="12">Pattern: Left-to-right, then down, repeat from left (40% overlap in both directions)</text>
</svg>